<ng-container *ngIf="vm">
    <tm-form-title>{{title}}</tm-form-title>
    <div class="row">
        <div class="form-group col-md-6">
            <label class="control-label">项目名称</label>
            <div>{{vm.name}}</div>
        </div>
        <div class="form-group col-md-6">
            <label class="control-label">负责人</label>
            <div>{{vm.principalName}} {{vm.office}}，{{vm.title}}，{{vm.degree}}学位 {{vm.discipline}} {{vm.discipline}}
                <span *ngIf="vm.direction">{{vm.direction}}方向</span></div>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-3">
            <label class="control-label">项目类别</label>
            <div>{{vm.subtype}} <span class="badge badge-info">{{vm.level | level: 'text'}}</span></div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">电话</label>
            <div>{{vm.phone}}</div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">Email</label>
            <div>{{vm.email}}</div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">建设情况</label>
            <div>{{vm.projectStatus | projectStatus: 'text'}}</div>
        </div>
    </div>
    <div class="row" *ngIf="vm.projectStatus !== 'CREATED'">
        <div class="form-group col-md-3">
            <label class="control-label">项目编号</label>
            <div>{{vm.code}}</div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">立项日期</label>
            <div>{{vm.dateStarted}}</div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">预期中期</label>
            <div>{{vm.middleYear}}</div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">预期结项</label>
            <div>{{vm.knotYear}}</div>
        </div>
    </div>

    <div class="row">
        <div class="form-group col-md-3">
            <label class="control-label">单位</label>
            <div>{{vm.departmentName}}</div>
        </div>
        <div class="form-group col-md-3">
            <label class="control-label">来源</label>
            <div>{{vm.origin}}</div>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-12" *ngIf="vm.content">
            <label class="control-label">{{contentLabel}}</label>
            <div [markdown]="vm.content"></div>
        </div>
        <div class="form-group col-12" *ngIf="vm.achievements">
            <label class="control-label">{{furtherLabel}}</label>
            <div [markdown]="vm.achievements"></div>
        </div>
        <div class="form-group col-12" *ngIf="vm.other">
            <label class="control-label">{{otherLabel}}</label>
            <div [markdown]="vm.other"></div>
        </div>
        <div class="form-group col-12" *ngIf="vm.urls">
            <label class="control-label">相关网址</label>
            <div [markdown]="vm.urls"></div>
        </div>
    </div>
    <div class="card">
        <div class="card-header d-flex">
            <label class="control-label">附件</label>
            <a class="btn btn-secondary btn-sm ml-auto" download [href]="downloadUrl" *ngIf="vm.mainInfoForm">下载</a>
        </div>
        <div class="card-body">
            <ul>
                <li *ngIf="vm.mainInfoForm">{{getLabel('main')}}-{{projectName}}{{vm.level | level:
                    'text'}}-{{projectCode}}{{vm.subtype}}-{{vm.principalName}}.{{getExt(vm.mainInfoForm)}}</li>
                <li *ngIf="vm.proofFile">主要佐证材料-{{projectName}}{{vm.level | level:
                    'text'}}-{{projectCode}}{{vm.subtype}}-{{vm.principalName}}.{{getExt(vm.proofFile)}}</li>
                <li *ngIf="vm.summaryReport">总结报告-{{projectName}}{{vm.level | level:
                    'text'}}-{{projectCode}}{{vm.subtype}}-{{vm.principalName}}.{{getExt(vm.summaryReport)}}</li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-12" *ngIf="vm.departmentOpinion">
            <label class="control-label">学院意见</label>
            <p class="form-control-plaintext">{{vm.departmentOpinion}}</p>
        </div>
        <div class="form-group col-12" *ngIf="vm.conclusionOfUniversity">
            <label class="control-label">学校意见 <span class="badge {{vm.conclusionOfUniversity | conclusion: 'class'}}">
                    {{vm.conclusionOfUniversity | conclusion: 'text'}}</span></label>
            <p class="form-control-plaintext">{{vm.opinionOfUniversity}}</p>
        </div>
        <div class="form-group col-12" *ngIf="vm.conclusionOfProvince">
            <label class="control-label">省厅意见 <span class="badge {{vm.conclusionOfProvince | conclusion: 'class'}}">
                    {{vm.conclusionOfProvince | conclusion: 'text'}}</span></label>
            <p class="form-control-plaintext">{{vm.opinionOfProvince}}</p>
        </div>
    </div>
    <div class="form-group" *ngIf="vm.expertReview && vm.expertReview.length > 0">
        <label class="control-label">专家意见</label>
        <ul>
            <li *ngFor="let item of vm.expertReview">
                <span class="text-info mr-2">{{item.teacherName}} {{item.teacherId}}：</span>
                <span [class]="conclusionClass(item.conclusion)">{{item.conclusion}}</span> {{item.dateReviewed | date:
                'yyyy-MM-dd'}}
                <span class="ml-3">{{item.opinion}}</span>
            </li>
        </ul>
    </div>
</ng-container>
