<ng-container>
    <table class="table table-expand">
        <thead>
            <tr>
                <th>序号</th>
                <th>任务名称</th>
                <th>项目周期</th>
                <th>截止日期</th>
                <th>申报数</th>
                <th>未审数</th>
                <th>通过数</th>
                <th>不通过数</th>
            </tr>
        </thead>
        <tbody>
            <ng-template ngFor let-task [ngForOf]="tasks" let-i="index">
                <tr>
                    <td>{{i + 1}}</td>
                    <td class="expand"><button class="btn btn-link" (click)="overlay.show(task.id)">{{task.title}}</button></td>
                    <td><label class="badge" ngClass="{{task.type | reviewType: 'class'}}">{{task.type | reviewType: 'text'}}</label></td>
                    <td class="date">{{task.endDate}}</td>
                    <td><a [routerLink]="[task.id, 'administration']" *ngIf="task.countProject"><span class="badge badge-pill badge-secondary">{{task.countProject}}</span></a></td>
                    <td><a [routerLink]="[task.id, 'todo']" *ngIf="task.countUncheck"><span class="badge badge-pill badge-secondary">{{task.countUncheck}}</span></a></td>
                    <td><a [routerLink]="[task.id, 'done']" *ngIf="task.countPass"><span class="badge badge-pill badge-secondary">{{task.countPass}}</span></a></td>
                    <td><a [routerLink]="[task.id, 'expr']" *ngIf="task.countFail"><span class="badge badge-pill badge-secondary">{{task.countFail}}</span></a></td>
                </tr>
            </ng-template>
        </tbody>
    </table>
</ng-container>
<tm-task-form-overlay #overlay></tm-task-form-overlay>
